(venv) rtikes@node-beta:~/Blockchain-Distributed-IDS/raspberry_pi/node-beta/scripts $ python flower_client.py 
INFO:__main__:using CPU.
INFO:__main__:dataset shape: (100000, 78)
Original class distribution: Counter({'BENIGN': 50000, 'DoS Hulk': 20727, 'PortScan': 14163, 'DDoS': 11489, 'DoS GoldenEye': 956, 'FTP-Patator': 745, 'SSH-Patator': 534, 'DoS Slowhttptest': 511, 'DoS slowloris': 508, 'Bot': 163, 'Web Attack � Brute Force': 138, 'Web Attack � XSS': 60, 'Infiltration': 4, 'Web Attack � Sql Injection': 2})
After oversampling: Counter({1: 50000, 0: 50000})
INFO:__main__:initializing model
/home/rtikes/Blockchain-Distributed-IDS/venv/lib/python3.11/site-packages/keras/src/layers/core/dense.py:87: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(activity_regularizer=activity_regularizer, **kwargs)
INFO:__main__: starting flower Client node-beta. connecting to server at 192.168.8.147:9091...
WARNING :   DEPRECATED FEATURE: flwr.client.start_numpy_client() is deprecated. 
        Instead, use `flwr.client.start_client()` by ensuring you first call the `.to_client()` method as shown below: 
        flwr.client.start_client(
                server_address='<IP>:<PORT>',
                client=FlowerClient().to_client(), # <-- where FlowerClient is of type flwr.client.NumPyClient object
        )
        Using `start_numpy_client()` is deprecated.

            This is a deprecated feature. It will be removed
            entirely in future versions of Flower.
        
WARNING:flwr:DEPRECATED FEATURE: flwr.client.start_numpy_client() is deprecated. 
        Instead, use `flwr.client.start_client()` by ensuring you first call the `.to_client()` method as shown below: 
        flwr.client.start_client(
                server_address='<IP>:<PORT>',
                client=FlowerClient().to_client(), # <-- where FlowerClient is of type flwr.client.NumPyClient object
        )
        Using `start_numpy_client()` is deprecated.

            This is a deprecated feature. It will be removed
            entirely in future versions of Flower.
        
WARNING :   DEPRECATED FEATURE: flwr.client.start_client() is deprecated.
        Instead, use the `flower-supernode` CLI command to start a SuperNode as shown below:

                $ flower-supernode --insecure --superlink='<IP>:<PORT>'

        To view all available options, run:

                $ flower-supernode --help

        Using `start_client()` is deprecated.

            This is a deprecated feature. It will be removed
            entirely in future versions of Flower.
        
WARNING:flwr:DEPRECATED FEATURE: flwr.client.start_client() is deprecated.
        Instead, use the `flower-supernode` CLI command to start a SuperNode as shown below:

                $ flower-supernode --insecure --superlink='<IP>:<PORT>'

        To view all available options, run:

                $ flower-supernode --help

        Using `start_client()` is deprecated.

            This is a deprecated feature. It will be removed
            entirely in future versions of Flower.
        
DEBUG:flwr:Opened insecure gRPC connection (no certificates were passed)
DEBUG:flwr:ChannelConnectivity.IDLE
DEBUG:flwr:ChannelConnectivity.READY
INFO :      
INFO:flwr:
INFO :      Received: train message 5ff69901-1ce6-4ea2-adc0-63276275d5b1
INFO:flwr:Received: train message 5ff69901-1ce6-4ea2-adc0-63276275d5b1
INFO:__main__:received training request from server start training
Epoch 1/7
1250/1250 - 15s - 12ms/step - AUC: 0.9786 - Precision: 0.9127 - Recall: 0.9331 - accuracy: 0.9219 - loss: 0.1966 - val_AUC: 0.9925 - val_Precision: 0.9466 - val_Recall: 0.9783 - val_accuracy: 0.9615 - val_loss: 0.1091
Epoch 2/7
1250/1250 - 9s - 7ms/step - AUC: 0.9906 - Precision: 0.9453 - Recall: 0.9724 - accuracy: 0.9581 - loss: 0.1195 - val_AUC: 0.9941 - val_Precision: 0.9584 - val_Recall: 0.9843 - val_accuracy: 0.9708 - val_loss: 0.0925
Epoch 3/7
1250/1250 - 9s - 7ms/step - AUC: 0.9927 - Precision: 0.9519 - Recall: 0.9776 - accuracy: 0.9641 - loss: 0.1030 - val_AUC: 0.9955 - val_Precision: 0.9651 - val_Recall: 0.9876 - val_accuracy: 0.9760 - val_loss: 0.0825
Epoch 4/7
1250/1250 - 9s - 7ms/step - AUC: 0.9938 - Precision: 0.9562 - Recall: 0.9803 - accuracy: 0.9677 - loss: 0.0942 - val_AUC: 0.9962 - val_Precision: 0.9679 - val_Recall: 0.9822 - val_accuracy: 0.9748 - val_loss: 0.0758
Epoch 5/7
1250/1250 - 9s - 7ms/step - AUC: 0.9946 - Precision: 0.9596 - Recall: 0.9823 - accuracy: 0.9705 - loss: 0.0868 - val_AUC: 0.9967 - val_Precision: 0.9699 - val_Recall: 0.9811 - val_accuracy: 0.9754 - val_loss: 0.0708
Epoch 6/7
1250/1250 - 9s - 7ms/step - AUC: 0.9952 - Precision: 0.9613 - Recall: 0.9842 - accuracy: 0.9723 - loss: 0.0816 - val_AUC: 0.9970 - val_Precision: 0.9692 - val_Recall: 0.9895 - val_accuracy: 0.9790 - val_loss: 0.0641
Epoch 7/7
1250/1250 - 9s - 7ms/step - AUC: 0.9959 - Precision: 0.9630 - Recall: 0.9859 - accuracy: 0.9740 - loss: 0.0749 - val_AUC: 0.9976 - val_Precision: 0.9697 - val_Recall: 0.9909 - val_accuracy: 0.9800 - val_loss: 0.0592
INFO:__main__:Training completed. Final Loss: 0.07488007098436356
INFO:__main__:Model hash: 81b16adfbbee03fdc230b7ea0d5661de7862672cd4ec1e8de8465923e9271a30 (saved to /home/rtikes/ml-data/flower/model_hashes.log)
INFO :      Sent reply
INFO:flwr:Sent reply
INFO :      
INFO:flwr:
INFO :      Received: evaluate message 408b964f-ea90-404d-815d-6a6c096e17fa
INFO:flwr:Received: evaluate message 408b964f-ea90-404d-815d-6a6c096e17fa
INFO:__main__:evaluating model
625/625 ━━━━━━━━━━━━━━━━━━━━ 3s 5ms/step - AUC: 0.9974 - Precision: 0.9723 - Recall: 0.9861 - accuracy: 0.9790 - loss: 0.0707  
INFO:__main__:Evaluation completed. Loss: 0.07274423539638519, Accuracy: 0.9793999791145325, Precision: 0.97231525182724, Recall: 0.9868999719619751, AUC: 0.9970047473907471
INFO :      Sent reply
INFO:flwr:Sent reply
INFO :      
INFO:flwr:
INFO :      Received: reconnect message 6c062fec-d8b2-459a-b36d-fc699a96cc1f
INFO:flwr:Received: reconnect message 6c062fec-d8b2-459a-b36d-fc699a96cc1f
DEBUG:flwr:gRPC channel closed
INFO :      Disconnect and shut down
INFO:flwr:Disconnect and shut down
(venv) rtikes@node-beta:~/Blockchain-Distributed-IDS/raspberry_pi/node-beta/scripts $ python flower_client.py 
INFO:__main__:using CPU.
INFO:__main__:dataset shape: (100000, 78)
Original class distribution: Counter({'BENIGN': 50000, 'DoS Hulk': 20727, 'PortScan': 14163, 'DDoS': 11489, 'DoS GoldenEye': 956, 'FTP-Patator': 745, 'SSH-Patator': 534, 'DoS Slowhttptest': 511, 'DoS slowloris': 508, 'Bot': 163, 'Web Attack � Brute Force': 138, 'Web Attack � XSS': 60, 'Infiltration': 4, 'Web Attack � Sql Injection': 2})
After oversampling: Counter({1: 50000, 0: 50000})
INFO:__main__:initializing model
/home/rtikes/Blockchain-Distributed-IDS/venv/lib/python3.11/site-packages/keras/src/layers/core/dense.py:87: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(activity_regularizer=activity_regularizer, **kwargs)
INFO:__main__: starting flower Client node-beta. connecting to server at 192.168.8.147:9091...
WARNING :   DEPRECATED FEATURE: flwr.client.start_numpy_client() is deprecated. 
        Instead, use `flwr.client.start_client()` by ensuring you first call the `.to_client()` method as shown below: 
        flwr.client.start_client(
                server_address='<IP>:<PORT>',
                client=FlowerClient().to_client(), # <-- where FlowerClient is of type flwr.client.NumPyClient object
        )
        Using `start_numpy_client()` is deprecated.

            This is a deprecated feature. It will be removed
            entirely in future versions of Flower.
        
WARNING:flwr:DEPRECATED FEATURE: flwr.client.start_numpy_client() is deprecated. 
        Instead, use `flwr.client.start_client()` by ensuring you first call the `.to_client()` method as shown below: 
        flwr.client.start_client(
                server_address='<IP>:<PORT>',
                client=FlowerClient().to_client(), # <-- where FlowerClient is of type flwr.client.NumPyClient object
        )
        Using `start_numpy_client()` is deprecated.

            This is a deprecated feature. It will be removed
            entirely in future versions of Flower.
        
WARNING :   DEPRECATED FEATURE: flwr.client.start_client() is deprecated.
        Instead, use the `flower-supernode` CLI command to start a SuperNode as shown below:

                $ flower-supernode --insecure --superlink='<IP>:<PORT>'

        To view all available options, run:

                $ flower-supernode --help

        Using `start_client()` is deprecated.

            This is a deprecated feature. It will be removed
            entirely in future versions of Flower.
        
WARNING:flwr:DEPRECATED FEATURE: flwr.client.start_client() is deprecated.
        Instead, use the `flower-supernode` CLI command to start a SuperNode as shown below:

                $ flower-supernode --insecure --superlink='<IP>:<PORT>'

        To view all available options, run:

                $ flower-supernode --help

        Using `start_client()` is deprecated.

            This is a deprecated feature. It will be removed
            entirely in future versions of Flower.
        
DEBUG:flwr:Opened insecure gRPC connection (no certificates were passed)
DEBUG:flwr:ChannelConnectivity.IDLE
DEBUG:flwr:ChannelConnectivity.READY
INFO :      
INFO:flwr:
INFO :      Received: train message a3540f77-4f6c-457b-9a2a-104fbdbd2b92
INFO:flwr:Received: train message a3540f77-4f6c-457b-9a2a-104fbdbd2b92
INFO:__main__:received training request from server start training
Epoch 1/7
1250/1250 - 15s - 12ms/step - AUC: 0.9804 - Precision: 0.9192 - Recall: 0.9420 - accuracy: 0.9296 - loss: 0.1876 - val_AUC: 0.9927 - val_Precision: 0.9643 - val_Recall: 0.9678 - val_accuracy: 0.9660 - val_loss: 0.1056
Epoch 2/7
1250/1250 - 9s - 7ms/step - AUC: 0.9910 - Precision: 0.9472 - Recall: 0.9711 - accuracy: 0.9585 - loss: 0.1152 - val_AUC: 0.9942 - val_Precision: 0.9652 - val_Recall: 0.9785 - val_accuracy: 0.9716 - val_loss: 0.0905
Epoch 3/7
1250/1250 - 9s - 7ms/step - AUC: 0.9926 - Precision: 0.9534 - Recall: 0.9764 - accuracy: 0.9643 - loss: 0.1014 - val_AUC: 0.9951 - val_Precision: 0.9672 - val_Recall: 0.9870 - val_accuracy: 0.9768 - val_loss: 0.0808
Epoch 4/7
1250/1250 - 9s - 7ms/step - AUC: 0.9936 - Precision: 0.9576 - Recall: 0.9787 - accuracy: 0.9677 - loss: 0.0937 - val_AUC: 0.9958 - val_Precision: 0.9647 - val_Recall: 0.9908 - val_accuracy: 0.9772 - val_loss: 0.0748
Epoch 5/7
1250/1250 - 9s - 7ms/step - AUC: 0.9943 - Precision: 0.9593 - Recall: 0.9810 - accuracy: 0.9697 - loss: 0.0876 - val_AUC: 0.9962 - val_Precision: 0.9714 - val_Recall: 0.9801 - val_accuracy: 0.9756 - val_loss: 0.0706
Epoch 6/7
1250/1250 - 9s - 7ms/step - AUC: 0.9949 - Precision: 0.9616 - Recall: 0.9833 - accuracy: 0.9720 - loss: 0.0825 - val_AUC: 0.9967 - val_Precision: 0.9675 - val_Recall: 0.9912 - val_accuracy: 0.9790 - val_loss: 0.0655
Epoch 7/7
1250/1250 - 9s - 7ms/step - AUC: 0.9953 - Precision: 0.9632 - Recall: 0.9842 - accuracy: 0.9733 - loss: 0.0785 - val_AUC: 0.9970 - val_Precision: 0.9697 - val_Recall: 0.9876 - val_accuracy: 0.9783 - val_loss: 0.0634
INFO:__main__:Training completed. Final Loss: 0.07846822589635849
INFO:__main__:Model hash: edd88300cb5ae85d71a258d92e8747c425ed9d3915b038421ec5c827003fb7d0 (saved to /home/rtikes/ml-data/flower/model_hashes.log)
INFO :      Sent reply
INFO:flwr:Sent reply
INFO :      
INFO:flwr:
INFO :      Received: evaluate message 2c6f0604-a8e5-4027-a8f4-da402c44eef9
INFO:flwr:Received: evaluate message 2c6f0604-a8e5-4027-a8f4-da402c44eef9
INFO:__main__:evaluating model
625/625 ━━━━━━━━━━━━━━━━━━━━ 3s 5ms/step - AUC: 0.5570 - Precision: 0.4629 - Recall: 0.0652 - accuracy: 0.4945 - loss: 3.2437          
INFO:__main__:Evaluation completed. Loss: 3.2430031299591064, Accuracy: 0.4969500005245209, Precision: 0.4779464900493622, Recall: 0.06610000133514404, AUC: 0.5542912483215332
INFO :      Sent reply
INFO:flwr:Sent reply
INFO :      
INFO:flwr:
INFO :      Received: reconnect message 5c2b3d2d-31f2-437c-bc1c-facba6b4aef2
INFO:flwr:Received: reconnect message 5c2b3d2d-31f2-437c-bc1c-facba6b4aef2
DEBUG:flwr:gRPC channel closed
INFO :      Disconnect and shut down
INFO:flwr:Disconnect and shut down
(venv) rtikes@node-beta:~/Blockchain-Distributed-IDS/raspberry_pi/node-beta/scripts $ python flower_client.py 
INFO:__main__:using CPU.
INFO:__main__:dataset shape: (100000, 78)
Original class distribution: Counter({'BENIGN': 50000, 'DoS Hulk': 20727, 'PortScan': 14163, 'DDoS': 11489, 'DoS GoldenEye': 956, 'FTP-Patator': 745, 'SSH-Patator': 534, 'DoS Slowhttptest': 511, 'DoS slowloris': 508, 'Bot': 163, 'Web Attack � Brute Force': 138, 'Web Attack � XSS': 60, 'Infiltration': 4, 'Web Attack � Sql Injection': 2})
After oversampling: Counter({1: 50000, 0: 50000})
INFO:__main__:initializing model
/home/rtikes/Blockchain-Distributed-IDS/venv/lib/python3.11/site-packages/keras/src/layers/core/dense.py:87: UserWarning: Do not pass an `input_shape`/`input_dim` argument to a layer. When using Sequential models, prefer using an `Input(shape)` object as the first layer in the model instead.
  super().__init__(activity_regularizer=activity_regularizer, **kwargs)
INFO:__main__: starting flower Client node-beta. connecting to server at 192.168.8.147:9091...
WARNING :   DEPRECATED FEATURE: flwr.client.start_numpy_client() is deprecated. 
        Instead, use `flwr.client.start_client()` by ensuring you first call the `.to_client()` method as shown below: 
        flwr.client.start_client(
                server_address='<IP>:<PORT>',
                client=FlowerClient().to_client(), # <-- where FlowerClient is of type flwr.client.NumPyClient object
        )
        Using `start_numpy_client()` is deprecated.

            This is a deprecated feature. It will be removed
            entirely in future versions of Flower.
        
WARNING:flwr:DEPRECATED FEATURE: flwr.client.start_numpy_client() is deprecated. 
        Instead, use `flwr.client.start_client()` by ensuring you first call the `.to_client()` method as shown below: 
        flwr.client.start_client(
                server_address='<IP>:<PORT>',
                client=FlowerClient().to_client(), # <-- where FlowerClient is of type flwr.client.NumPyClient object
        )
        Using `start_numpy_client()` is deprecated.

            This is a deprecated feature. It will be removed
            entirely in future versions of Flower.
        
WARNING :   DEPRECATED FEATURE: flwr.client.start_client() is deprecated.
        Instead, use the `flower-supernode` CLI command to start a SuperNode as shown below:

                $ flower-supernode --insecure --superlink='<IP>:<PORT>'

        To view all available options, run:

                $ flower-supernode --help

        Using `start_client()` is deprecated.

            This is a deprecated feature. It will be removed
            entirely in future versions of Flower.
        
WARNING:flwr:DEPRECATED FEATURE: flwr.client.start_client() is deprecated.
        Instead, use the `flower-supernode` CLI command to start a SuperNode as shown below:

                $ flower-supernode --insecure --superlink='<IP>:<PORT>'

        To view all available options, run:

                $ flower-supernode --help

        Using `start_client()` is deprecated.

            This is a deprecated feature. It will be removed
            entirely in future versions of Flower.
        
DEBUG:flwr:Opened insecure gRPC connection (no certificates were passed)
DEBUG:flwr:ChannelConnectivity.IDLE
DEBUG:flwr:ChannelConnectivity.READY
INFO :      
INFO:flwr:
INFO :      Received: train message c09ae86c-de96-4ffd-af4d-8a52bbf596a1
INFO:flwr:Received: train message c09ae86c-de96-4ffd-af4d-8a52bbf596a1
INFO:__main__:received training request from server start training
Epoch 1/7
1250/1250 - 15s - 12ms/step - AUC: 0.9781 - Precision: 0.9108 - Recall: 0.9368 - accuracy: 0.9225 - loss: 0.2014 - val_AUC: 0.9925 - val_Precision: 0.9428 - val_Recall: 0.9781 - val_accuracy: 0.9594 - val_loss: 0.1096
Epoch 2/7
1250/1250 - 9s - 7ms/step - AUC: 0.9912 - Precision: 0.9460 - Recall: 0.9714 - accuracy: 0.9580 - loss: 0.1162 - val_AUC: 0.9947 - val_Precision: 0.9453 - val_Recall: 0.9864 - val_accuracy: 0.9646 - val_loss: 0.0910
Epoch 3/7
1250/1250 - 9s - 7ms/step - AUC: 0.9931 - Precision: 0.9529 - Recall: 0.9775 - accuracy: 0.9646 - loss: 0.0996 - val_AUC: 0.9956 - val_Precision: 0.9671 - val_Recall: 0.9860 - val_accuracy: 0.9762 - val_loss: 0.0801
Epoch 4/7
1250/1250 - 9s - 7ms/step - AUC: 0.9942 - Precision: 0.9581 - Recall: 0.9810 - accuracy: 0.9690 - loss: 0.0904 - val_AUC: 0.9963 - val_Precision: 0.9710 - val_Recall: 0.9858 - val_accuracy: 0.9782 - val_loss: 0.0719
Epoch 5/7
1250/1250 - 9s - 7ms/step - AUC: 0.9951 - Precision: 0.9604 - Recall: 0.9826 - accuracy: 0.9711 - loss: 0.0822 - val_AUC: 0.9969 - val_Precision: 0.9686 - val_Recall: 0.9867 - val_accuracy: 0.9773 - val_loss: 0.0662
Epoch 6/7
1250/1250 - 9s - 7ms/step - AUC: 0.9956 - Precision: 0.9623 - Recall: 0.9843 - accuracy: 0.9729 - loss: 0.0778 - val_AUC: 0.9971 - val_Precision: 0.9724 - val_Recall: 0.9823 - val_accuracy: 0.9772 - val_loss: 0.0633
Epoch 7/7
1250/1250 - 9s - 7ms/step - AUC: 0.9962 - Precision: 0.9639 - Recall: 0.9850 - accuracy: 0.9741 - loss: 0.0731 - val_AUC: 0.9978 - val_Precision: 0.9719 - val_Recall: 0.9844 - val_accuracy: 0.9779 - val_loss: 0.0597
INFO:__main__:Training completed. Final Loss: 0.07307998090982437
INFO:__main__:Model hash: c0db3716720ebaca175e7b92e156391bc058e6d9b265303e85e327657b17fb49 (saved to /home/rtikes/ml-data/flower/model_hashes.log)
INFO :      Sent reply
INFO:flwr:Sent reply
INFO :      
INFO:flwr:
INFO :      Received: evaluate message 11286190-2622-4c85-9bbd-d678a83b1624
INFO:flwr:Received: evaluate message 11286190-2622-4c85-9bbd-d678a83b1624
INFO:__main__:evaluating model
625/625 ━━━━━━━━━━━━━━━━━━━━ 3s 5ms/step - AUC: 0.9971 - Precision: 0.9748 - Recall: 0.9739 - accuracy: 0.9743 - loss: 0.0717  
INFO:__main__:Evaluation completed. Loss: 0.07264846563339233, Accuracy: 0.9740999937057495, Precision: 0.9745745658874512, Recall: 0.9735999703407288, AUC: 0.9968358278274536
INFO :      Sent reply
INFO:flwr:Sent reply
INFO :      
INFO:flwr:
INFO :      Received: reconnect message 54a3f3a2-afdc-495d-bcb8-e4e92b62bfa5
INFO:flwr:Received: reconnect message 54a3f3a2-afdc-495d-bcb8-e4e92b62bfa5
DEBUG:flwr:gRPC channel closed
INFO :      Disconnect and shut down
INFO:flwr:Disconnect and shut down